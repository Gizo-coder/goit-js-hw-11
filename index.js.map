{"version":3,"file":"index.js","sources":["../src/api.js","../src/render.js","../src/main.js"],"sourcesContent":["\n\nconst API_KEY = '52256115-ef245d0d17a91a1d5cb51d54b';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query) {\n\n    const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    return fetch(url)\n\n        .then(response => {\n            if (!response.ok) throw new Error(`Error: ${response.status}`);\n            return response.json();\n        });\n}","\nexport function createImageCards(images) {\n    return images\n\n        .map(img => {\n            return `<a href=\"${img.largeImageURL}\" class=\"card\">\n            \n            <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" />\n\n            <div class=\"stats\">\n                  <div class=\"stat\">\n                    <span>üëç</span>\n                    <p>${img.likes}</p>\n                  </div>\n                  <div class=\"stat\">\n                    <span>üëÅÔ∏è</span>\n                    <p>${img.views}</p>\n                  </div>\n                  <div class=\"stat\">\n                    <span>üí¨</span>\n                    <p>${img.comments}</p>\n                  </div>\n                  <div class=\"stat\">\n                    <span>‚¨áÔ∏è</span>\n                    <p>${img.downloads}</p>\n                  </div>\n            </div>                  \n            </a>`;\n        })\n        .join('');\n\n}","\nimport { fetchImages } from './api.js';\nimport { createImageCards } from './render.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport './style.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.search_form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nlet lightbox = new SimpleLightbox('.gallery a');\n\nform.addEventListener('submit', e => {\n    e.preventDefault();\n    const query = e.target.elements.searchQuery.value.trim();\n    if (!query) return;\n\n    gallery.innerHTML = '';\n    loader.classList.remove('is-hidden');\n\n    fetchImages(query)\n        .then(data => {\n            if (!data.hits.length) {\n                iziToast.info({\n                    title: 'No results',\n                    message: 'Sorry, no images found.',\n                    position: 'topRight',\n                \n                });\n\n                loader.classList.add('is-hidden');\n\n                return;\n            }\n\n            gallery.innerHTML = createImageCards(data.hits);\n            lightbox.refresh();\n\n            const images = gallery.querySelectorAll('img');\n            let loadedCount = 0;\n\n            images.forEach(img => {\n                img.addEventListener('load', () => {\n                    loadedCount++;\n                    if (loadedCount === images.length) {\n                     loader.classList.add('is-hidden');\n                    }\n                });\n\n                img.addEventListener('error', () => {\n                    loadedCount++;\n                    if (loadedCount === images.length) {\n                     loader.classList.add('is-hidden');\n                    }\n                });\n             });\n\n\n\n        })\n        .catch(err => {\n        \n            iziToast.error({\n                title: 'Error',\n                message: err.message,\n                position: 'topRight',\n            });\n        })\n        \n});\n\n\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","createImageCards","images","img","form","gallery","loader","lightbox","SimpleLightbox","e","data","iziToast","loadedCount","err"],"mappings":"6vBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CAE/B,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,2DAErE,OAAO,MAAMC,CAAG,EAEX,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GAAI,MAAM,IAAI,MAAM,UAAUA,EAAS,MAAM,EAAE,EAC7D,OAAOA,EAAS,MAC5B,CAAS,CACT,CCdO,SAASC,EAAiBC,EAAQ,CACrC,OAAOA,EAEF,IAAIC,GACM,YAAYA,EAAI,aAAa;AAAA;AAAA,wBAExBA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,yBAKjCA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,yBAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,yBAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,yBAIZA,EAAI,SAAS;AAAA;AAAA;AAAA,iBAI7B,EACA,KAAK,EAAE,CAEhB,CCtBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAAW,IAAIC,EAAe,YAAY,EAE9CJ,EAAK,iBAAiB,SAAUK,GAAK,CACjCA,EAAE,eAAc,EAChB,MAAMX,EAAQW,EAAE,OAAO,SAAS,YAAY,MAAM,OAC7CX,IAELO,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,WAAW,EAEnCT,EAAYC,CAAK,EACZ,KAAKY,GAAQ,CACV,GAAI,CAACA,EAAK,KAAK,OAAQ,CACnBC,EAAS,KAAK,CACV,MAAO,aACP,QAAS,0BACT,SAAU,UAE9B,CAAiB,EAEDL,EAAO,UAAU,IAAI,WAAW,EAEhC,MACH,CAEDD,EAAQ,UAAYJ,EAAiBS,EAAK,IAAI,EAC9CH,EAAS,QAAO,EAEhB,MAAML,EAASG,EAAQ,iBAAiB,KAAK,EAC7C,IAAIO,EAAc,EAElBV,EAAO,QAAQC,GAAO,CAClBA,EAAI,iBAAiB,OAAQ,IAAM,CAC/BS,IACIA,IAAgBV,EAAO,QAC1BI,EAAO,UAAU,IAAI,WAAW,CAErD,CAAiB,EAEDH,EAAI,iBAAiB,QAAS,IAAM,CAChCS,IACIA,IAAgBV,EAAO,QAC1BI,EAAO,UAAU,IAAI,WAAW,CAErD,CAAiB,CACjB,CAAc,CAId,CAAS,EACA,MAAMO,GAAO,CAEVF,EAAS,MAAM,CACX,MAAO,QACP,QAASE,EAAI,QACb,SAAU,UAC1B,CAAa,CACb,CAAS,EAET,CAAC"}